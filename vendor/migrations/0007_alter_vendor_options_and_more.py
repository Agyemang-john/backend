# Generated by Django 5.1.6 on 2025-09-21 19:51

import django.core.validators
import django.db.models.deletion
import django_countries.fields
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('vendor', '0006_alter_openinghour_options_and_more'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='vendor',
            options={'verbose_name': 'Vendor', 'verbose_name_plural': 'Vendors'},
        ),
        migrations.AddField(
            model_name='vendor',
            name='government_issued_id_photo',
            field=models.ImageField(blank=True, help_text="Photo of government-issued ID (e.g., passport, driver's license).", null=True, upload_to='vendor/id_photos/'),
        ),
        migrations.AddField(
            model_name='vendor',
            name='is_manufacturer',
            field=models.BooleanField(default=False, help_text='Indicates if the vendor is a manufacturer.'),
        ),
        migrations.AddField(
            model_name='vendor',
            name='proof_of_address',
            field=models.FileField(blank=True, help_text='Proof of address (e.g., utility bill) dated within 180 days.', null=True, upload_to='vendor_addresses/'),
        ),
        migrations.AddField(
            model_name='vendor',
            name='selfie_with_id',
            field=models.ImageField(blank=True, help_text='Selfie holding the government-issued ID.', null=True, upload_to='vendor/selfie_with_id/'),
        ),
        migrations.AddField(
            model_name='vendor',
            name='verification_date',
            field=models.DateTimeField(blank=True, help_text='Date and time when verification was completed.', null=True),
        ),
        migrations.AddField(
            model_name='vendor',
            name='verification_status',
            field=models.CharField(choices=[('PENDING', 'Pending'), ('VERIFIED', 'Verified'), ('REJECTED', 'Rejected')], default='PENDING', help_text='Current status of identity verification.', max_length=20),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='business_type',
            field=models.CharField(choices=[('sole_proprietor', 'Sole Proprietor'), ('partnership', 'Partnership'), ('corporation', 'Corporation'), ('llc', 'Limited Liability Company (LLC)'), ('non_profit', 'Non-Profit'), ('other', 'Other')], default='sole_proprietor', help_text='Legal structure of the business.', max_length=50),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='contact',
            field=models.CharField(default='+233', help_text='Contact phone number with country code.', max_length=20, validators=[django.core.validators.RegexValidator('^\\+?1?\\d{9,15}$', 'Enter a valid phone number with country code (e.g., +233XXXXXXXXX)')]),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='country',
            field=django_countries.fields.CountryField(default='GH', help_text='Country where the vendor operates.', max_length=2),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='email',
            field=models.EmailField(blank=True, help_text='Primary contact email for the vendor.', max_length=128, null=True, unique=True),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='is_approved',
            field=models.BooleanField(default=False, help_text='Indicates if the vendor is approved.'),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='is_featured',
            field=models.BooleanField(default=False, help_text='Indicates if the vendor is featured.'),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='is_subscribed',
            field=models.BooleanField(default=False, help_text='Indicates if the vendor has an active subscription.'),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='license',
            field=models.FileField(blank=True, help_text='Business license for non-student vendors.', null=True, upload_to='vendor/license/'),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='name',
            field=models.CharField(help_text='The legal or trading name of the vendor.', max_length=128, unique=True, validators=[django.core.validators.MinLengthValidator(2)]),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='slug',
            field=models.SlugField(editable=False, max_length=256, unique=True),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='student_id',
            field=models.FileField(blank=True, help_text='Student ID for student vendors.', null=True, upload_to='vendor/studentid/'),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='subscription_end_date',
            field=models.DateField(blank=True, help_text='Date when subscription ends.', null=True),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='user',
            field=models.OneToOneField(help_text='Linked user account for this vendor.', on_delete=django.db.models.deletion.CASCADE, related_name='vendor_user', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='vendor_type',
            field=models.CharField(choices=[('student', 'Student'), ('non_student', 'Non-Student')], default='student', help_text='Type of vendor (student or non-student).', max_length=20),
        ),
        migrations.AlterField(
            model_name='vendor',
            name='views',
            field=models.PositiveIntegerField(default=0, help_text='Number of views on vendor profile.'),
        ),
        migrations.AddIndex(
            model_name='vendor',
            index=models.Index(fields=['name', 'verification_status'], name='vendor_vend_name_0f336b_idx'),
        ),
    ]
